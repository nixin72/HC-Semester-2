<!DOCTYPE HTML>
<html>
<head>
	<title>Part B</title>
</head>

<body>

	<input type="text" name="date" id="date" /> <br />
	<label>Difference</label>
	<button name="submitNumber" id="submitNumber" value="submit">difference</button>


<div id="displayValidity">
</div>

<script>
var $ = function(id) {return document.getElementById(id)};

var unixTimestamp = Date.now(); // in milliseconds

var difference = function(checkDate) {
	var difference;
	var today = new Date();
	console.log(today);
	
	var dayEntered = new Date();
	var theDate = new Date($("date").value);
	console.log(theDate);
	
	difference = Math.abs(today.getTime() - theDate.getTime());
	var milliseconds = difference;
		console.log("Milliseconds: " + milliseconds);
	var seconds = milliseconds / 1000;
		console.log("Seconds: " + seconds);
	var minutes = seconds / 60;
		console.log("Minutes: " + minutes);
	var hours = minutes / 60;
		console.log("Hours: " + hours);
	var days = hours / 24;
		console.log("Days: " + days);
}

var checkDate = function() {
//	console.log("The function is getting run on click");
	
	var input = $("date").value;
		
	var checkFormat = /^(?:(\d{2})|(\d{4}))\/\d\d?\/\d\d?$/;
	//regex that just checks format
	var checkDate = /^(\d{2}|(19|20)\d{2})\/(?:((1|3|5|7|8|10|12)\/(?:((0|1|2)?[1-9])|(30|31)))|((4|6|9|11)\/(?:((0|1|2)?[1-9])|30))|((2)\/(?:((0|1)?[1-9])|(2[1-8]))))$/; 
	//regex that checks format and validates the year
	var isFormatValid = checkFormat.test(input);
	var isDateValid = checkDate.test(input);
	
	if (isFormatValid == true && isDateValid == true) {
		$("displayValidity").textContent = "The date and format are valid"
	}
	if (isFormatValid == true && isDateValid == false) {
		$("displayValidity").textContent = "The date is invalid and the format is valid"
	}
	if (isFormatValid == false && isDateValid == true) {
		$("displayValidity").textContent = "The date is valid and the format is invalid"
	}
	
}
$("submitNumber").addEventListener('click', checkDate, false);
$("submitNumber").addEventListener('click', difference, false);
</script>
</body>
</html>